<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>PeakFinder.Execute Method (Double[], Object, Object, Nullable(Double), Object, Object, Nullable(Int32), Double, Object)</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="M:Altaxo.Science.Spectroscopy.PeakSearching.PeakFinder.Execute(System.Double[],System.Object,System.Object,System.Nullable{System.Double},System.Object,System.Object,System.Nullable{System.Int32},System.Double,System.Object)" /><meta name="Description" content="Find peaks inside a signal based on peak properties. This function takes a 1-D array and finds all local maxima by simple comparison of neighboring values.Optionally, a subset of these peaks can be selected by specifying conditions for a peak's properties." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Altaxo.Science.Spectroscopy.PeakSearching" /><meta name="file" content="M_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder_Execute_2" /><meta name="guid" content="M_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder_Execute_2" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Altaxo user manual and class reference<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/1B7FE024E7E614BFA13DAA1FD005CB2E.htm" title="Altaxo user manual and class reference" tocid="roottoc">Altaxo user manual and class reference</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/R_Project_Documentation.htm" title="Altaxo class reference" tocid="R_Project_Documentation">Altaxo class reference</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/G_Altaxo.htm" title="Altaxo Namespaces" tocid="G_Altaxo">Altaxo Namespaces</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/G_Altaxo_Science.htm" title="Altaxo.Science Namespaces" tocid="G_Altaxo_Science">Altaxo.Science Namespaces</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/N_Altaxo_Science_Spectroscopy_PeakSearching.htm" title="Altaxo.Science.Spectroscopy.PeakSearching" tocid="N_Altaxo_Science_Spectroscopy_PeakSearching">Altaxo.Science.Spectroscopy.PeakSearching</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/T_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder.htm" title="PeakFinder Class" tocid="T_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder">PeakFinder Class</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/Methods_T_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder.htm" title="PeakFinder Methods" tocid="Methods_T_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder">PeakFinder Methods</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/Overload_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder_Execute.htm" title="Execute Method " tocid="Overload_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder_Execute">Execute Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder_Execute.htm" title="Execute Method (Double[])" tocid="M_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder_Execute">Execute Method (Double[])</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder_Execute_1.htm" title="Execute Method (Double[], Nullable(Double), Nullable(Double), Nullable(Double), Nullable(Double), Nullable(Double), Nullable(Int32), Double, Nullable(Double))" tocid="M_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder_Execute_1">Execute Method (Double[], Nullable(Double), Nullable(Double), Nullable(Double), Nullable(Double), Nullable(Double), Nullable(Int32), Double, Nullable(Double))</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/M_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder_Execute_2.htm" title="Execute Method (Double[], Object, Object, Nullable(Double), Object, Object, Nullable(Int32), Double, Object)" tocid="M_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder_Execute_2">Execute Method (Double[], Object, Object, Nullable(Double), Object, Object, Nullable(Int32), Double, Object)</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>PeakFinder<span id="LST62F98BDF_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_0?cpp=::|nu=.");</script>Execute Method (<span id="LST62F98BDF_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_1?cpp=array&lt;");</script>Double<span id="LST62F98BDF_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_2?cpp=&gt;|vb=()|nu=[]");</script>, Object, Object, Nullable<span id="LST62F98BDF_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_3?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>Double<span id="LST62F98BDF_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_4?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, Object, Object, Nullable<span id="LST62F98BDF_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_5?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>Int32<span id="LST62F98BDF_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_6?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, Double, Object)</h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Find peaks inside a signal based on peak properties.
            This function takes a 1-D array and finds all local maxima by
            simple comparison of neighboring values.Optionally, a subset of these
            peaks can be selected by specifying conditions for a peak's properties.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="N_Altaxo_Science_Spectroscopy_PeakSearching.htm">Altaxo.Science.Spectroscopy.PeakSearching</a><br />
    <strong>Assembly:</strong>
   AltaxoCore (in AltaxoCore.dll) Version: 4.8.3167.0 (4.8.3167.0)<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="identifier">int</span>[] <span class="identifier">Execute</span>(
	<span class="identifier">double</span>[] <span class="parameter">x</span>,
	<span class="identifier">Object</span>? <span class="parameter">height</span> = <span class="keyword">null</span>,
	<span class="identifier">Object</span>? <span class="parameter">threshold</span> = <span class="keyword">null</span>,
	<span class="identifier">double</span>? <span class="parameter">distance</span> = <span class="keyword">null</span>,
	<span class="identifier">Object</span> <span class="parameter">prominence</span> = <span class="keyword">null</span>,
	<span class="identifier">Object</span>? <span class="parameter">width</span> = <span class="keyword">null</span>,
	<span class="identifier">int</span>? <span class="parameter">wlen</span> = <span class="keyword">null</span>,
	<span class="identifier">double</span> <span class="parameter">rel_height</span> = 0,5,
	<span class="identifier">Object</span>? <span class="parameter">plateau_size</span> = <span class="keyword">null</span>
)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">x</span></dt><dd>Type: <span id="LST62F98BDF_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_7?cpp=array&lt;");</script><a href="https://docs.microsoft.com/dotnet/api/system.double" target="_blank" rel="noopener noreferrer">System<span id="LST62F98BDF_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_8?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Double</a><span id="LST62F98BDF_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_9?cpp=&gt;|vb=()|nu=[]");</script><br />A signal with peaks.</dd><dt><span class="parameter">height</span> (Optional)</dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">System<span id="LST62F98BDF_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_10?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />Required height of peaks. Either a number, null, an array matching
             or a 2-element sequence of the former.The first element is
             always interpreted as the minimal and the second, if supplied, as the
             maximal required height.</dd><dt><span class="parameter">threshold</span> (Optional)</dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">System<span id="LST62F98BDF_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_11?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />Required threshold of peaks, the vertical distance to its neighboring
            samples.Either a number, null, an array matching <span class="parameter">x</span> or a
            2-element sequence of the former.The first element is always
            interpreted as the minimal and the second, if supplied, as the maximal
            required threshold.</dd><dt><span class="parameter">distance</span> (Optional)</dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.nullable-1" target="_blank" rel="noopener noreferrer">System<span id="LST62F98BDF_12"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_12?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Nullable</a><span id="LST62F98BDF_13"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_13?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="https://docs.microsoft.com/dotnet/api/system.double" target="_blank" rel="noopener noreferrer">Double</a><span id="LST62F98BDF_14"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_14?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />Required minimal horizontal distance (&gt;= 1) in samples between
            neighbouring peaks. Smaller peaks are removed first until the condition
            is fulfilled for all remaining peaks.</dd><dt><span class="parameter">prominence</span> (Optional)</dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">System<span id="LST62F98BDF_15"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_15?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />Required prominence of peaks. Either a number, null, an array
            matching <span class="parameter">x</span> or a 2-element sequence of the former.The first
            element is always interpreted as the minimal and the second, if
            supplied, as the maximal required prominence.</dd><dt><span class="parameter">width</span> (Optional)</dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">System<span id="LST62F98BDF_16"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_16?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />Required width of peaks in samples. Either a number, null, an array
            matching <span class="parameter">x</span> or a 2-element sequence of the former.The first
            element is always interpreted as the minimal and the second, if
            supplied, as the maximal required width.</dd><dt><span class="parameter">wlen</span> (Optional)</dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.nullable-1" target="_blank" rel="noopener noreferrer">System<span id="LST62F98BDF_17"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_17?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Nullable</a><span id="LST62F98BDF_18"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_18?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="https://docs.microsoft.com/dotnet/api/system.int32" target="_blank" rel="noopener noreferrer">Int32</a><span id="LST62F98BDF_19"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_19?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />Used for calculation of the peaks prominences, thus it is only used if
            one of the arguments `prominence` or <span class="parameter">width</span> is given.See argument
            <span class="parameter">wlen</span> in `peak_prominences` for a full description of its effects.</dd><dt><span class="parameter">rel_height</span> (Optional)</dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.double" target="_blank" rel="noopener noreferrer">System<span id="LST62F98BDF_20"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_20?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Double</a><br />Used for calculation of the peaks width, thus it is only used if `width`
            is given. Default value is 0.5. See argument  `rel_height` in <a href="M_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder__peak_widths.htm">_peak_widths(<span id="LST62F98BDF_21"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_21?cpp=array&lt;");</script>Double<span id="LST62F98BDF_22"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_22?cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]");</script>, <span id="LST62F98BDF_23"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_23?cpp=array&lt;");</script>Int32<span id="LST62F98BDF_24"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_24?cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]");</script>, Double, <span id="LST62F98BDF_25"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_25?cpp=array&lt;");</script>Double<span id="LST62F98BDF_26"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_26?cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]");</script>, <span id="LST62F98BDF_27"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_27?cpp=array&lt;");</script>Int32<span id="LST62F98BDF_28"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_28?cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]");</script>, <span id="LST62F98BDF_29"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_29?cpp=array&lt;");</script>Int32<span id="LST62F98BDF_30"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_30?cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]");</script>)</a> for a full
            description of its effects.</dd><dt><span class="parameter">plateau_size</span> (Optional)</dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">System<span id="LST62F98BDF_31"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_31?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />Required size of the flat top of peaks in samples. Either a number,
            null, an array matching <span class="parameter">x</span> or a 2-element sequence of the former.
             The first element is always interpreted as the minimal and the second,
            if supplied as the maximal required plateau size.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <span id="LST62F98BDF_32"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_32?cpp=array&lt;");</script><a href="https://docs.microsoft.com/dotnet/api/system.int32" target="_blank" rel="noopener noreferrer">Int32</a><span id="LST62F98BDF_33"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST62F98BDF_33?cpp=&gt;|vb=()|nu=[]");</script><br />Indices of peaks in `x` that satisfy all given conditions. See also the other properties of this class
            for access to more results. Note that most of the properties are only set, if the corresponding parameter is specified in this call.
            </div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Exceptions</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="tableSection"><table><tr><th>Exception</th><th>Condition</th></tr><tr><td><a href="https://docs.microsoft.com/dotnet/api/system.argumentoutofrangeexception" target="_blank" rel="noopener noreferrer">ArgumentOutOfRangeException</a></td><td>distance` must be greater than or equal to 1 - distance</td></tr></table></div></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID3RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="T_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder.htm">PeakFinder Class</a></div><div class="seeAlsoStyle"><a href="Overload_Altaxo_Science_Spectroscopy_PeakSearching_PeakFinder_Execute.htm">Execute Overload</a></div><div class="seeAlsoStyle"><a href="N_Altaxo_Science_Spectroscopy_PeakSearching.htm">Altaxo.Science.Spectroscopy.PeakSearching Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter">Altaxo can be downloaded from <a href="https://sourceforge.net/projects/altaxo/files/Altaxo/">SourceForge</a>. Source code available on <a href="https://github.com/Altaxo/Altaxo">Github</a>.
<br /><a href="https://sourceforge.net/u/dlellinger/profile/">(C) Dr. Dirk Lellinger and all contributors to the source code 2002 - <script>document.write(new Date().getFullYear()); </script></a><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:dlellinger%40users.sourceforge.net?Subject=Altaxo%20user%20manual%20and%20class%20reference">dlellinger@users.sourceforge.net</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script> </div></body></html>